<strong>
<!--Aggregated ranking table-->
    {{langValues.rankingTablePageTitle}}
</strong>

<br/>
<!--<table cellspacing="2" border="1" cellpadding="5">-->
<!--<table class="table table-striped">-->
<!--<table class="table table-bordered">-->
<!--<table class="table table-hover">-->
<!--<strong> No data for this year </strong>-->

<treasure-overlay-spinner active='spinner.active'>
<div>
    <label for="rankingCheckListForm" id="rankingCheckListForm">{{langValues.selectRankingsNamesTitle}}: </label>
    <form name="rankingCheckListForm" id="rankingCheckListForm">
        <ul>
            <li ng-repeat="checkRecord in rankingCheckList">
                <input type="checkbox" ng-model="checkRecord.value">{{checkRecord.name}}</input>
            </li>
        </ul>
        <label for="yearSelect" id="yearSelect">{{langValues.selectYearTitle}}: </label>
        <select name="yearSelect" id="yearSelect" ng-options="year.value for year in yearSelect.availableYears track by year.id" ng-model="yearSelect.selectedYear"></select>

        <label for="recordsPerPageSelect" id="recordsPerPageSelect">{{langValues.selectPerPageTitle}}: </label>
        <select name="recordsPerPageSelect" id="recordsPerPageSelect" ng-options="pageSize.value for pageSize in paginationParameters.recordsPerPageSelection.availableSizes track by pageSize.id" ng-model="paginationParameters.recordsPerPageSelection.selectedSize"></select>

        <button type="submit" ng-click="sendSelected()" class="btn btn-primary">{{langValues.applyButtonTitle}}</button>
    </form>
    <div name="correlationMatrixContainer" id="correlationMatrixContainer" ng-show="showCorrelationMatrix">
        <strong>
            {{langValues.correlationMatrixTitle}}
        </strong>
        <button type="submit" ng-click="downloadCorrelationMatrixAsCSV()" class="btn btn-primary"> {{langValues.downloadAsCSVButtonTitle}} </button>
        <button type="submit" ng-click="downloadCorrelationMatrixAsXLS()" class="btn btn-primary"> {{langValues.downloadAsXLSButtonTitle}} </button>
        <span ng-if="correlationMatrix">
            <table class="table-bordered table-condensed">
                <tbody>
                    <tr ng-repeat="matrixRow in correlationMatrix">
                        <td ng-repeat="matrixElement in matrixRow track by $index">
                            {{ matrixElement }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </span>
    </div>
    <button class="btn btn-primary" ng-click="showCorrelationMatrix = !showCorrelationMatrix" ng-init="showCorrelationMatrix = false">
        <div ng-show="!showCorrelationMatrix">
            {{langValues.showCorrelationMatrixButtonTitle}}
        </div>
        <div ng-show="showCorrelationMatrix">
            {{langValues.hideCorrelationMatrixButtonTitle}}
        </div>
    </button>
    <button type="submit" ng-click="downloadTableAsCSV()" class="btn btn-primary"> {{langValues.downloadAsCSVButtonTitle}} </button>
    <button type="submit" ng-click="downloadTableAsXLS()" class="btn btn-primary"> {{langValues.downloadAsXLSButtonTitle}} </button>
    <table class="table table-striped table-condensed table-hover">
        <thead>
            <tr>
                <td ng-repeat="header in rankingTable.headers">
                    {{ header }}
                </td>
            </tr>
        </thead>
        <tbody>
            <!--<tr ng-repeat="record in rankingTable.records track by $index">-->
            <tr ng-repeat="record in rankingTable.records">
                <td ng-repeat="item in record track by $index">
                    {{ item }}
                </td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="{{tableWidth}}" align="center">
                    <div>
                        <ul class="pagination">
                            <li ng-class="prevPageDisabled()">
                                <a href ng-click="goToFirstPage()">&laquo;</a>
                            </li>
                            <li ng-class="firstPageDisabled()">
                                <a href ng-click="goToPrevPage()">&lsaquo;</a>
                            </li>
                             <li ng-repeat="pageNum in paginationParameters.showedPagesNumsArray track by $index" ng-class="{active: pageNum == paginationParameters.currentPageNum}" ng-click="goToPage(pageNum)">
                                <a href="">{{ pageNum }}</a>
                            </li>
                            <li ng-class="lastPageDisabled()">
                                <a href ng-click="goToNextPage()">&rsaquo;</a>
                            </li>
                            <li ng-class="nextPageDisabled()">
                                <a href ng-click="goToLastPage()">&raquo;</a>
                            </li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tfoot>
    </table>
</div>
</treasure-overlay-spinner>
